# 스터디 2주차 (p83 ~ p175)
## 테스트
테스트의 가치와 장점, 활용 전략 그리고 스프링과의 관계에 대한~

### 유닛테스트의 필요성
- 테스트 하고자 하는 대상에만 집중해서 수행 가능
- 삐르게 문제 확인, 마음의 확신ㅋㅋ
- 지속적인 개선과 점진적인 개발을 위한 테스트
- 기존 코드에 영향을 주지 않고 테스트 가능

### JUnit
- 자바 테스팅 프레임워크
테스트 메소드
- @Test 애노테이션을 추가하여 테스트용 메소드임을 명시
- 테스트용 메소드는 항상 public 이어야 한다.
IDE를 통해 실행 가능
테스트가 외부상황에 따라 성공/실패
- 스프링에서 제공해주는 기능이 있음

### 테스트 결과의 일관성
- 테스트가 실행 순서에 영향받지 않드록 구현해야한다. 실행 순서에 상관없이 독립적으로 항상 동일한 결과를 낼 수 있도록 해야함
    - JUnit은 테스트 메소드의 실행순서를 보장해주지 않음

### 포괄적인 테스트
- @Test에 expected를 추가하여 예외상황에 대해 테스트 가능
- 성공할만한 테스트를 만드는 것 보다 실패 케이스를 먼저 테스트하자

# 스터디 3주차 (p175 ~ p259)
## 테스트 주도 개발
만들고자 하는 기능의 내용을 담고 있으면서, 코드도 검증해줄 수 있도록 테스트 코드를 먼저 만들고, 테스트를 성공하게 해주는 코드를 작성하는 방식의 개발
- 테스트를 코드보다 먼저 작성
- 실패한 테스트를 성공시키기 위한 목적이 아닌 코드는 만들지 않는다.

### 테스트 코드 개선
#### @Before, @After
- @Test 메소드 실행 전 후에 각각 @Before와 @After가 붙은 메소드를 자동으로 실행
- 공통 준비 작업과 정리작업 처리

#### 픽스쳐
테스트를 수행하는데 필요한 정보나 오브젝트
- 여러 테스트에서 반복적으로 사용되기 때문에, @Before 메소드를 이용해 생성해둠

## 스프링 테스트 적용
테스트마다 매번 애플리케이션 컨텍스트가 생성되는것을 방지하기 위해 스프링에서 기능 지원
- 하나의 테스트 클래스안에서와 테스트 클래스 사이에서도 애플리케이션 컨텍스트를 공유

@RunWith
- JUnit 프레임워크의 테스트 실행방법을 확장할 때 사용하는 어노테이션

@ContextConfiguration
- 자동으로 만들어줄 애플리케이션 컨텍스트의 설정 파일 위치

@Autowired
- 자동 와이어링
- 컨텍스트의 빈을 테스트 오브젝트에 DI할 수 있다.
- @Autowired가 붙은 인스턴스 변수가 있으면 테스트 컨텍스트 프레임워크는 변수 타입과 일치하는 컨텍스트 내의 빈을 찾는다.
- getBean 하지 않아도 오브젝트 타입의 빈을 직접 DI 받는다.

___"스프링 애플리케이션 컨텍스트는 초기화할때 자기 자신도 빈으로 등록한다."___

### 인터페이스를 두고 DI를 적용하자
- 수정에 들어가는 시간과 비용 부담이 줄어든다.
- 확장에 편리하다.
- 작은 단위의 대상에 대해 독립적으로 테스트 할 수 있다.

@DirtiesContext
- 스프링의 테스트 컨텍스트 프레임워크에게 해당 클래스의 테스트에서 애플리케이션 컨텍스트의 상태를 변경한다는 것을 알려줌
- 해당 어노테이션이 붙으면 애플리케이션 컨텍스트 공유를 허용하지 않음


___"DI를 위해 컨테이너가 반드시 필요한 것은 아님. DI 컨테이너나 프레임워크는 DI를 편하게 적용하도록 도움을 줄 뿐, DI가 가능하게 해주는 것 은 아니다."___

## 학습 테스트
자신이 사용할 API나 프레임워크의 기능을 테스트로 보면서 사용방법을 익히는 것
- 검증의 목적이 아님
- 장점:
  - 다양한 조건에 따른 기능을 손쉽게 확인
  - 학습 테스트 코드를 개발 중에 참고 할 수 있음
  - 업그레이드 시 호환성 검증에 도움
  - 테스트 작성에 대한 좋은 훈련
  - 새로운 기술을 공부하는 과정이 즐거워짐 ^^*

> matcher
>- not()
>- sameInstance()
>- hasItem()
>- either().or()
>- nullValue()


### 버그 테스트
버그가 원인이 되어 실패하는 테스트
- 테스트의 완성도를 높여줌
- 버그의 내용을 명확하게 분석하도록 도움
- 기술적인 문제를 해결하는데 도움








