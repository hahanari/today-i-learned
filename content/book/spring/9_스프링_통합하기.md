# 9장 스프링 통합하기

이 장에서 배우는 내용
- 실시간으로 데이터 처리하기
- 통합 플로우 정의하기
- 스프링 통합의 자바 DSL 정의 사용하기
- 이메일과 파일 시스템 및 다른 외부 시스템과 통합하기
----

통합 패턴
- 컴포넌트들이 파이프라인을 이용하여 데이터를 운반
- 컴포넌트를 조립하여 파이프라인을 구성


## 통합 플로우 (Integration Flow)
spring-boot-starter
- 통합 플로우 개발 시 반드시 추가 필요

## 통합 플로우 구성
- XML 구성
- 자바 구성
- DSL을 사용한 자바 구성

## 통합 플로우 컴포넌트
### Channel
- 한 요소로 부터 다른 요소로 메시지를 전달
- .channel()

### Filter
- 조건에 맞는 메시지가 플로우를 통과하게 해줌
- .filter()

### Transformer
- 메시지 값을 변경하거나 메시지 페이로드의 타입을 다른 타입으로 변환
- .transform()

### Router
- 여러 채널 중 하나로 메시지를 전달하며, 대개 메시지 헤더를 기반으로 함
- .route()

### Splitter
- 들어오는 메시지를 두 개 이상의 메시지로 분할, 분할된 각 메시지는 다른 채널로 전송됨
- 사용 케이스
  - 메시지 페이로드가 같은 타입의 컬렉션 항목들을 포함하며, 각 메시지 페이로드 별로 처리하고자 할 때
  - 연관된 정보를 함께 전달하는 하나의 메시지 페이로드는 두 개 이상의 서로 다른 타입 메시지로 분할될 수 있음
- .route(), .split()

### Aggregator
- 분배기와 상반된 것으로 별개의 채널로부터 전달되는 다수의 메시지를 하나의 메시지로 결합

### Service activator
- 메시지를 처리하도록 자바 메서드에 메시지를 넘겨준 후 메서드의 반환값을 출력 채널로 전송
- .handle()

### Channel adaptor
- 외부 시스템에 채널을 연결, 외부 시스템으로부터 입력받거나 쓸 수 있음

### Gateway
- 인테페이스를 통해 통합 플로우로 데이터를 전달

### endpoint module
- 다양한 외부 시스템과의 통합을 위해 채널 어댑터가  포함된 24개 의상의 엔드포인트 모듈을 제공함




